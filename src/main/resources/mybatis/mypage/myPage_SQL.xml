<?xml version="1.0" encoding= "UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="mypage">
   	<select id="getUserInfoByUno" parameterType="int" resultType="com.nbreds.projectPlanning.common.VO.User">
	<![CDATA[
	SELECT u.uno, uname, uphoneno, udepartment, CODE_NAME as udepartmentName, uemail
	FROM User u
	JOIN ( SELECT CODE_TYPE, CODE, CODE_NAME
			FROM CodeTable
			WHERE CODE_TYPE = 002 ) c
	ON udepartment = c.CODE
	WHERE u.uno = #{uno}
	]]>
	</select>
    
   	<select id="getAllDepartmentList" resultType="com.nbreds.projectPlanning.common.VO.CodeTable">
	<![CDATA[	
	SELECT CODE_TYPE, CODE, CODE_NAME
	FROM CodeTable
	WHERE CODE_TYPE = 002
	]]>
	</select>
</mapper>