<?xml version="1.0" encoding= "UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="label">
    
    <!-- 2016.03.25 label INSERT -->
    <insert id="saveLabel" parameterType="com.nbreds.projectPlanning.label.VO.Label">
    <![CDATA[
	  INSERT INTO Label (
	  ltitle
	  ,ldescription
	  ,lbgcolor
	  ,pno
	) VALUES (
	  #{ltitle}
	  ,#{ldescription}
	  ,#{lbgcolor}
	  ,#{pno}
	)
    ]]>  
    </insert>
    
    <!-- 2016.03.28 ino로 ino에 붙은 모든 label 정보 가져오기 -->
	<select id="getLabelsByIno" parameterType="int" resultType="com.nbreds.projectPlanning.label.VO.Label">
    <![CDATA[
    SELECT l.lno, ltitle, ldescription, lbgcolor, pno
    FROM Label l
    JOIN IssueLabel il
    ON l.lno = il.lno
    WHERE ino = #{ino}
	]]>
	</select>
	
	<!-- 2016.03.28 등록 된 모든 label 정보 가져오기 -->
	<select id="getAllLabel" resultType="com.nbreds.projectPlanning.label.VO.Label">
    <![CDATA[
    SELECT lno, ltitle, ldescription, lbgcolor, pno
    FROM Label
	]]>
	</select>
	
</mapper>